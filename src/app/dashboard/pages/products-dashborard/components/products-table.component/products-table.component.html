<div class="products-table-container">
  <div class="table-header">
    <h3 class="table-title">قائمة المنتجات</h3>
    <div class="table-actions">
      <button class="btn btn-outline-primary" (click)="exportProducts()">
        <i class="bi bi-download me-2"></i>تصدير
      </button>
      <button class="btn btn-primary"><i class="bi bi-plus-circle me-2"></i>منتج جديد</button>
    </div>
  </div>

  <app-data-table
    [columns]="columns"
    [data]="mockProducts"
    [actions]="actions"
    [config]="tableConfig"
    [trackBy]="'_id'"
  >
    <ng-template #customCell let-item="item" let-column="column">
      @if (column.customTemplate === 'productInfo') {
        <div class="product-info">
          <div class="product-image-placeholder">
            <i class="bi" [ngClass]="getCategoryConfig(item?.category)?.icon"></i>
          </div>
          <div class="product-details">
            <div class="product-name">{{ item?.name }}</div>
            <small class="product-code">رمز: {{ item?.code }}</small>
          </div>
        </div>
      }
      @if (column.customTemplate === 'categoryBadge') {
        <span class="category-badge" [ngClass]="getCategoryConfig(item?.category)?.class">
          {{ getCategoryConfig(item?.category)?.label }}
        </span>
      }
      @if (column.customTemplate === 'stockBadge') {
        <span class="stock-badge" [ngClass]="getStockLevel(item?.stock)">
          {{ getStockLabel(item?.stock) }}
        </span>
      }
      @if (column.customTemplate === 'statusBadge') {
        <span class="status-badge" [ngClass]="getStatusConfig(item?.status)?.class">
          {{ getStatusConfig(item?.status)?.label }}
        </span>
      }
    </ng-template>
  </app-data-table>
</div>
